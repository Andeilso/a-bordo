<%- include("partials/header.ejs", { title: "aBordo - Lançar notas" }) %>
<link rel='stylesheet' href='/stylesheets/set-notes.css' />
</head>

<body>
  <header>
    <div id="logo">
      <img class="logo" src="../images/airplane.svg" alt="">
      <h1 class="logo">aBordo</h1>
    </div>
    <div id="top-right-menu">
      <div id="notifications">
        <img src="../images/sino.png" alt=" ">
      </div>
      <div id="user-options">
        <img src="../images/professor.png" alt="">
        <span>
          <p>Nome do professor</p>
          <p>PROFESSOR</p>
        </span>
      </div>
    </div>
  </header>

  <nav>
    <div class="navbar select">
      <select name="school" id="school" required>
        <option value="" disabled selected>Escola</option>
        <option value="0">Colégio Pedro II</option>
        <option value="1">Escola Técnica Estadual do Ensino Fundamental Visconde de Mauá
      </select>

      <select name="class" id="class" required>
        <option value="" disabled selected>Turma</option>
        <option value="2223">Turma 2223</option>
        <option value="1121">Turma 1121</option>
      </select>

      <select id="course" name="course" required>
        <option value="" disabled selected>Disciplina</option>
        <option value="arts">Artes</option>
        <option value="biology">Biologia</option>
        <option value="sciences">Ciências</option>
        <option value="phys-ed">Educação Física</option>
        <option value="philosophy">Filosofia</option>
        <option value="physics">Física</option>
        <option value="geography">Geografia</option>
        <option value="geomethy">Geometria</option>
        <option value="history">História</option>
        <option value="literature">Literatura</option>
        <option value="math">Matemática</option>
        <option value="music">Música</option>
        <option value="spanish-lang">Língua Espanhola</option>
        <option value="french-lang">Língua Francesa</option>
        <option value="english-lang">Língua Inglesa</option>
        <option value="portuguese-lang">Língua Portuguesa</option>
        <option value="chemistry">Química</option>
        <option value="writing">Redação</option>
        <option value="sociology">Sociologia</option>
        <option value="drama">Teatro</option>
      </select>

      <select name="term" id="term" required>
        <option value="" disabled selected>Trimestre</option>
        <option value="1">1º Trimestre</option>
        <option value="2">2º Trimestre</option>
        <option value="3">3º Trimestre</option>
      </select>
    </div>

    <div class="navbar">
      <ul class="nav">
        <li><a class="nav-link" href="/fazer-chamada">
            Fazer chamada
          </a></li>
        <li><a class="nav-link active" href="#">
            Lançar notas
          </a></li>
        <li><a class="nav-link" href="/ver-diario-de-classe">
            Diário de classe
          </a></li>
        <li><a class="nav-link" href="#">
            Estatísticas
          </a></li>
        <li><a class="nav-link" href="#">
            Contatar responsáveis
          </a></li>
      </ul>
    </div>
  </nav>

  <% var students = [{id: 0, name: "Andeilso Alves", number: 1}, {id: 1, name: "Patrícia Felix", number: 2}, {id: 2, name: "Paula de Pinho Monteiro", number: 3}, {id: 3, name: "João de Oliveira da Silva Santos", number: 7}];
    var evaluations = [{id: 0, student_id: null, grade: null}, {id: 1, student_id: null, grade: null}, {id: 2, student_id: null, grade: null}, {id: 3, student_id: null, grade: null}, {id: 4, student_id: null, grade: null}, {id: 6, student_id: null, grade: null}]; %>
  <main id="grade">
    <section class="table-settings">

      <div class="selectors">
        <p>Quantidade de avaliações <br> no <span id="#this-term">1º</span> trimestre:</p>
        <select name="qnt-bars" id="qnt-bars">
          <option value="1">1 avaliação</option>
          <option value="2">2 avaliações</option>
          <option value="3">3 avaliações</option>
          <option value="4">4 avaliações</option>
          <option value="5">5 avaliações</option>
          <option value="6">6 avaliações</option>
        </select>
      </div>

      <div class="chart">
        <div id="instructions">
          <p>Valor de cada avaliação:</p>
          <div id="disclaimer"></div>
        </div>
        <div id="input-fields"></div>
        <div id="container"></div>
      </div>
    </section>

    <section class="table">
      <table class="table table-striped">
        <thead>
          <tr>
            <th class="student-number">Nº</th>
            <th class="student-name">ALUNO</th>

            <th class="evaluation evaluation1"><label class="text blue">AVAL. 1</label></th>
            <th class="evaluation evaluation2" hidden><label class="text pink">AVAL. 2</label></th>
            <th class="evaluation evaluation3" hidden><label class="text yellow">AVAL. 3</label></th>
            <th class="evaluation evaluation4" hidden><label class="text violet">AVAL. 4</label></th>
            <th class="evaluation evaluation5" hidden><label class="text orange">AVAL. 5</label></th>
            <th class="evaluation evaluation6" hidden><label class="text green">AVAL. 6</label></th>

            <th class="not-evaluated" id="not-evaluated-header">N/A</th>
            <th class="term-final-grade">MÉDIA</th>
          </tr>
        </thead>
        <tbody>
          <% students.forEach( (student) => { %>
          <tr>
            <td class="student-number" id=<%= "student-number" + student.id %>><%= student.number %></th>
            <td class="student-name" id=<%= "student-name" + student.id %>><%= student.name %></td>

            <td class="evaluation evaluation1">
              <input type="number" name=<%= "grade-student" + student.id + "-evaluation1" %> max="10" min="0" step="0.5"
                placeholder="Nota"></td>
            <td class="evaluation evaluation2" hidden>
              <input type="number" name=<%= "grade-student" + student.id + "-evaluation2" %> max="10" min="0" step="0.5"
                placeholder="Nota" disabled></td>
            <td class="evaluation evaluation3" hidden>
              <input type="number" name=<%= "grade-student" + student.id + "-evaluation3" %> max="10" min="0" step="0.5"
                placeholder="Nota" disabled></td>
            <td class="evaluation evaluation4" hidden>
              <input type="number" name=<%= "grade-student" + student.id + "-evaluation4" %> max="10" min="0" step="0.5"
                placeholder="Nota" disabled></td>
            <td class="evaluation evaluation5" hidden>
              <input type="number" name=<%= "grade-student" + student.id + "-evaluation5" %> max="10" min="0" step="0.5"
                placeholder="Nota" disabled></td>
            <td class="evaluation evaluation6" hidden>
              <input type="number" name=<%= "grade-student" + student.id + "-evaluation6" %> max="10" min="0" step="0.5"
                placeholder="Nota" disabled></td>

            <td class="not-evaluated" id=<%= "student" + student.id + "not-evaluated-check" %>><label
                for="not-evaluated" class="checkbox-container">
                <input type="checkbox" name="not-evaluated" id="not-evaluated" />
                <span class="checkmark"></span>
              </label></td>
            <td class="term-final-grade" id=<%= "student" + student.id + "-term-final-grade" %>>0.0</td>
          </tr>
          <% }) %>
        </tbody>
      </table>
    </section>
  </main>

  <%- include("partials/footer.ejs") %>